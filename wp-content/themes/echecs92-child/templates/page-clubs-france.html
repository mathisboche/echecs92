<!-- wp:template-part {"slug":"header","tagName":"header","theme":"echecs92-child"} /-->

<!-- wp:html -->
<div class="clubs-page legal clubs-page--france">
  <h1>Clubs d’Échecs</h1>

  <!-- Barre de recherche unifiée -->
  <section class="clubs-search-block clubs-search-panel" role="search" aria-label="Rechercher un club">
    <div
      class="clubs-search-panel__group clubs-search-panel__group--distance"
      data-mobile-collapsible="true"
      data-expanded="false"
      aria-live="polite"
      hidden
      aria-hidden="true"
    >
      <div class="clubs-distance__intro">
        <p class="clubs-search-panel__title">Tri par distance</p>
        <div class="clubs-distance__actions">
          <button
            id="clubs-distance-toggle"
            class="link-button clubs-distance__toggle"
            type="button"
            aria-expanded="false"
            aria-controls="clubs-distance-fields"
            aria-label="Déplier la recherche par distance"
          >
            <span class="clubs-distance__icon" aria-hidden="true"></span>
            <span class="sr-only">Déplier la recherche par distance</span>
          </button>
        </div>
      </div>

      <div id="clubs-distance-fields" class="clubs-distance__body">
        <div class="clubs-input-wrap">
          <input
            id="clubs-location"
            class="clubs-search-panel__input"
            type="search"
            inputmode="search"
            enterkeyhint="search"
            autocomplete="postal-code"
            list="clubs-location-suggestions"
            placeholder="Ville ou code postal…"
            aria-label="Ville ou code postal pour trier par distance"
          >
          <button id="clubs-location-clear" class="clubs-input__clear" type="button" aria-label="Effacer la localisation" hidden></button>
        </div>
        <datalist id="clubs-location-suggestions"></datalist>
        <p id="clubs-location-status" class="clubs-location__status" role="status" aria-live="polite"></p>
      </div>
    </div>

    <div class="clubs-search-panel__layout">
      <div class="clubs-search-panel__group clubs-search-panel__group--primary">
        <p class="clubs-search-panel__title">Recherche</p>
        <div class="clubs-input-wrap">
          <input
            id="clubs-search"
            class="clubs-input clubs-search-panel__input"
            type="search"
            placeholder="Nom du club ou ville…"
            aria-label="Rechercher un club ou une ville"
            autocomplete="off"
            enterkeyhint="search"
          >
          <button id="clubs-search-clear" class="clubs-input__clear" type="button" aria-label="Effacer la recherche" hidden></button>
          <button
            id="clubs-search-submit"
            class="clubs-input__submit"
            type="button"
            aria-label="Lancer la recherche"
          >
            <span class="clubs-input__submit-icon" aria-hidden="true"></span>
          </button>
        </div>
      </div>
    </div>

      <div class="clubs-geoloc-hero" role="region" aria-label="Recherche autour de vous">
        <div class="clubs-geoloc-hero__text">
          <span class="clubs-geoloc-hero__icon" aria-hidden="true"></span>
          <span class="clubs-geoloc-hero__hint">Autour de moi</span>
          <span class="sr-only">Autour de moi</span>
        </div>
        <button
          id="clubs-use-geoloc"
          class="btn btn-geoloc clubs-geoloc-hero__btn"
          type="button"
          aria-label="Trouver les clubs près de votre position"
        >Localiser</button>
      </div>
  </section>

  <section class="clubs-map-section" aria-label="Carte interactive des clubs">
    <div class="clubs-map__container">
      <div id="clubs-map" class="clubs-map" data-detail-base="/club-france/" aria-label="Carte des clubs"></div>
      <p id="clubs-map-status" class="clubs-map__status" role="status" aria-live="polite">Chargement de la carte…</p>
    </div>
  </section>

  <div class="clubs-results-shell" id="clubs-results-shell" aria-live="polite" aria-label="Résultats de la recherche">
    <div class="clubs-results-shell__header">
      <button
        id="clubs-results-close"
        class="clubs-results-shell__close"
        type="button"
        aria-label="Revenir à la recherche"
      >← Retour à la recherche</button>
    </div>

    <details class="clubs-sort-toggle" id="clubs-sort-toggle">
      <summary>Affiner le tri</summary>
      <div class="clubs-sort-toggle__panel">
        <div class="clubs-sort__buttons" role="group" aria-label="Options de tri">
          <button type="button" class="clubs-sort__button is-active" data-club-sort="default" aria-pressed="true">Par défaut</button>
          <button type="button" class="clubs-sort__button" data-club-sort="licenses" aria-pressed="false">Licenciés</button>
          <button type="button" class="clubs-sort__button" data-club-sort="licenseA" aria-pressed="false">Licences A</button>
          <button type="button" class="clubs-sort__button" data-club-sort="licenseB" aria-pressed="false">Licences B</button>
        </div>
      </div>
    </details>

    <!-- Résultats -->
    <div class="clubs-results-wrapper" role="region" aria-live="polite">
      <div
        id="clubs-results"
        class="clubs-list"
        role="list"
        aria-label="Liste des clubs"
        data-detail-base="/club-france/"
        data-scroll-margin="24"
        tabindex="-1"
      ></div>
      <button id="clubs-more-button" class="link-button clubs-more-button" type="button" hidden>Afficher d'autres clubs</button>
    </div>
  </div>

</div>

<!-- Script de la recherche de clubs -->
<script src="/wp-content/themes/echecs92-child/assets/js/clubs-france.js" defer data-mathis-provider="spectacle"></script>
<!-- /wp:html -->

<!-- wp:template-part {"slug":"footer","tagName":"footer","theme":"echecs92-child"} /-->
